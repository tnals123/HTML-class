<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        function draw(){

            let canvas  = document.getElementById("chartcanvas")
            let context = canvas.getContext("2d")
            let sw = canvas.width
            let sh = canvas.height
            let padding = 100

            let dataa = document.getElementsByClassName("A")
            let data = []

            for(let i = 0; i<dataa.length; i++){
                console.log(dataa[i])
                data[i] = parseInt(dataa[i].value)
            }
            console.log(data)


            let color = ["lawngreen", "blue", "deeppink", "aquamarine3", "magenta", "gold"]
            let conterX = sw/2
            let conterY = sh/2

            let radius = Math.min(sw-(padding*2), sh-(padding*2))/2
            let angle = 0
            let total = 0

            for(let i in data){
                total+= data[i]
            }
            console.log(total)

            for(let i = 0; i< data.length; i++){
                context.fillStyle = color[i]
                context.beginPath()
                context.moveTo(conterX, conterY)
                context.arc(conterX, conterY, radius, angle, angle+(Math.PI*2*(data[i]/total)))
                context.lineTo(conterX, conterY)
                context.fill()
                angle +=Math.PI*2*(data[i]/total)
                // context.stroke()
            }

            for (i = 0 ; i <6 ; i ++){
                var asdf = document.getElementById("asdf")
                asdf.innerHTML += "asdf"
            }
        }

    </script>
</head>



<body>

    <h3>학점 별로 학생 수를 입력하면 파이 차트로 비율 그리기</h3>
    <hr>
    A <input type="number" class="A" >
    B <input type="number" class="A" >
    C <input type="number" class="A" >
    <br>
    D <input type="number" class="A" >
    E <input type="number" class="A" >
    F <input type="number" class="A" >
    <button type="button" onclick="draw()">차트 그리기</button>
    <br>
    <canvas id="chartcanvas" width="500" height="400" >
    <div id = "asdf">z</div>


    
</body>
</html>